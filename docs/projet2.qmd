---
title: Visualisation cartographique
format: html
---

## Carte interactive des trajets

:::{.wide-text}
Découvrez ci-dessous notre application, développée avec Shiny, qui offre une interface intuitive pour visualiser les trajets qui ont été effectués par les usagers au cours de l'année 2024.
:::

<iframe src="https://cyclevision3map.shinyapps.io/shiny_app/" width="100%" height="600px" frameborder="0"></iframe>

L'application Shiny est en ligne ici : [Accéder à l'application Shiny](https://cyclevision3map.shinyapps.io/shiny_app/){target="_blank"}


## Cartes prévisionnelles 

:::{.wide-text}
Voici d'autres cartes présentant des prévisions des stations les plus fréquentés et des trajets les plus effectués pour chaque jour et chaque heure de la semaine. Ces résultats ont été obtenus en calculant des moyennes à partir des données présentées sur la page d'accueil.
:::

<body> 
    <!-- Carte des intensités -->
    <h2>Carte des intensités</h2>
    <form>
        <label for="date-intensity">Sélectionner une date:</label>
        <select id="date-intensity">
            <option value="01">Lundi</option>
            <option value="02">Mardi</option>
            <option value="03">Mercredi</option>
            <option value="04">Jeudi</option>
            <option value="05">Vendredi</option>
            <option value="06">Samedi</option>
            <option value="07">Dimanche</option>
        </select>
        
        <label for="heure-intensity">Sélectionner une heure:</label>
        <select id="heure-intensity">
            <option value="00">00:00</option>
            <option value="01">01:00</option>
            <option value="02">02:00</option>
            <option value="03">03:00</option>
            <option value="04">04:00</option>
            <option value="05">05:00</option>
            <option value="06">06:00</option>
            <option value="07">07:00</option>
            <option value="08">08:00</option>
            <option value="09">09:00</option>
            <option value="10">10:00</option>
            <option value="11">11:00</option>
            <option value="12">12:00</option>
            <option value="13">13:00</option>
            <option value="14">14:00</option>
            <option value="15">15:00</option>
            <option value="16">16:00</option>
            <option value="17">17:00</option>
            <option value="18">18:00</option>
            <option value="19">19:00</option>
            <option value="20">20:00</option>
            <option value="21">21:00</option>
            <option value="22">22:00</option>
            <option value="23">23:00</option>
        </select>
        
        <button type="button" onclick="afficherCarte('intensity')">Afficher la carte</button>
    </form>
    <div id="carte-intensity"></div>

    <!-- Carte des trajets -->
    <h2>Carte des trajets</h2>
    <form>
        <label for="date-trajets">Sélectionner une date:</label>
        <select id="date-trajets">
            <option value="01">Lundi</option>
            <option value="02">Mardi</option>
            <option value="03">Mercredi</option>
            <option value="04">Jeudi</option>
            <option value="05">Vendredi</option>
            <option value="06">Samedi</option>
            <option value="07">Dimanche</option>
        </select>
        
        <label for="heure-trajets">Sélectionner une heure:</label>
        <select id="heure-trajets">
            <option value="00">00:00</option>
            <option value="01">01:00</option>
            <option value="02">02:00</option>
            <option value="03">03:00</option>
            <option value="04">04:00</option>
            <option value="05">05:00</option>
            <option value="06">06:00</option>
            <option value="07">07:00</option>
            <option value="08">08:00</option>
            <option value="09">09:00</option>
            <option value="10">10:00</option>
            <option value="11">11:00</option>
            <option value="12">12:00</option>
            <option value="13">13:00</option>
            <option value="14">14:00</option>
            <option value="15">15:00</option>
            <option value="16">16:00</option>
            <option value="17">17:00</option>
            <option value="18">18:00</option>
            <option value="19">19:00</option>
            <option value="20">20:00</option>
            <option value="21">21:00</option>
            <option value="22">22:00</option>
            <option value="23">23:00</option>
        </select>
        
        <button type="button" onclick="afficherCarte('trajets')">Afficher la carte</button>
    </form>
    <div id="carte-trajets"></div>

    <script>
        function afficherCarte(type) {
            // Sélectionner les bons éléments en fonction du type
            const date = document.getElementById(`date-${type}`).value;
            const heure = document.getElementById(`heure-${type}`).value;
            const carteDiv = document.getElementById(`carte-${type}`);

            // Générer le chemin du fichier correspondant
            const fichierCarte = (type === 'intensity') 
                ? `projet2_files/cartes_intensity/intensity_${date}_${heure}.html`
                : `projet2_files/cartes_trajets/trajets_${date}_${heure}.html`;

            // Supprimer l'iframe existante (si elle existe)
            carteDiv.innerHTML = '';

            // Créer une nouvelle iframe
            const iframe = document.createElement('iframe');
            iframe.src = fichierCarte;
            iframe.width = '100%';
            iframe.height = '500px';

            // Ajouter l'iframe à la div
            carteDiv.appendChild(iframe);
        }

        window.onload = function() {
            // Afficher la carte par défaut au chargement (exemple : première date et première heure)
            afficherCarte('intensity');
            afficherCarte('trajets');
        };
    </script>
</body>
</html>