<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.33">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Documentation – CycleVision3</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-07ba0ad10f5680c660e360ac31d2f3b6.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-4e6c33dd5e3c29b8a8c8e81d0cd97e99.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">CycleVision3</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Le vélo à Montpellier.</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-projets" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Projets</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-projets">    
        <li>
    <a class="dropdown-item" href="./projet1.html">
 <span class="dropdown-text">Projet 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./projet2.html">
 <span class="dropdown-text">Projet 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./projet3.html">
 <span class="dropdown-text">Projet 3</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link active" href="./docu.html" aria-current="page"> 
<span class="menu-text">Documentation</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./auteurs.html"> 
<span class="menu-text">Auteurs</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/mscaia/PROJ_HAX712X"> <i class="bi bi-images/logogithub.png" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">1. Introduction</a></li>
  <li><a href="#project-setup" id="toc-project-setup" class="nav-link" data-scroll-target="#project-setup">2. Project Setup</a>
  <ul class="collapse">
  <li><a href="#structure-du-projet" id="toc-structure-du-projet" class="nav-link" data-scroll-target="#structure-du-projet">2.1 Structure du projet</a></li>
  <li><a href="#installation-et-dépendances" id="toc-installation-et-dépendances" class="nav-link" data-scroll-target="#installation-et-dépendances">2.2 Installation et dépendances</a></li>
  <li><a href="#configuration-des-fichiers" id="toc-configuration-des-fichiers" class="nav-link" data-scroll-target="#configuration-des-fichiers">2.3 Configuration des fichiers</a></li>
  <li><a href="#base-de-données-et-traitement-des-données" id="toc-base-de-données-et-traitement-des-données" class="nav-link" data-scroll-target="#base-de-données-et-traitement-des-données">2.4 Base de données et traitement des données</a></li>
  <li><a href="#exécution-du-projet" id="toc-exécution-du-projet" class="nav-link" data-scroll-target="#exécution-du-projet">2.5 Exécution du projet</a></li>
  <li><a href="#documentation-et-tests" id="toc-documentation-et-tests" class="nav-link" data-scroll-target="#documentation-et-tests">2.6 Documentation et tests</a></li>
  </ul></li>
  <li><a href="#data-description" id="toc-data-description" class="nav-link" data-scroll-target="#data-description">3. Data Description</a></li>
  <li><a href="#project-workflow" id="toc-project-workflow" class="nav-link" data-scroll-target="#project-workflow">4. Project Workflow</a>
  <ul class="collapse">
  <li><a href="#data-cleaning-and-preprocessing" id="toc-data-cleaning-and-preprocessing" class="nav-link" data-scroll-target="#data-cleaning-and-preprocessing">4.1 Data Cleaning and Preprocessing</a>
  <ul class="collapse">
  <li><a href="#tasks" id="toc-tasks" class="nav-link" data-scroll-target="#tasks">Tasks:</a></li>
  </ul></li>
  <li><a href="#traffic-visualization-and-mapping" id="toc-traffic-visualization-and-mapping" class="nav-link" data-scroll-target="#traffic-visualization-and-mapping">4.2 Traffic Visualization and Mapping</a>
  <ul class="collapse">
  <li><a href="#tasks-1" id="toc-tasks-1" class="nav-link" data-scroll-target="#tasks-1">Tasks:</a></li>
  </ul></li>
  <li><a href="#website-development" id="toc-website-development" class="nav-link" data-scroll-target="#website-development">4.3 Website Development</a></li>
  </ul></li>
  <li><a href="#data-processing-pipeline" id="toc-data-processing-pipeline" class="nav-link" data-scroll-target="#data-processing-pipeline">5. Data Processing Pipeline</a></li>
  <li><a href="#technical-documentation" id="toc-technical-documentation" class="nav-link" data-scroll-target="#technical-documentation">6. Technical Documentation</a>
  <ul class="collapse">
  <li><a href="#bibliothèques-utilisées" id="toc-bibliothèques-utilisées" class="nav-link" data-scroll-target="#bibliothèques-utilisées">6.1 Bibliothèques utilisées</a></li>
  <li><a href="#functions" id="toc-functions" class="nav-link" data-scroll-target="#functions">6.2 Functions</a>
  <ul class="collapse">
  <li><a href="#map" id="toc-map" class="nav-link" data-scroll-target="#map">6.2.1 Map</a></li>
  <li><a href="#préduction" id="toc-préduction" class="nav-link" data-scroll-target="#préduction">6.2.2 Préduction</a></li>
  <li><a href="#video" id="toc-video" class="nav-link" data-scroll-target="#video">6.2.3 Video</a></li>
  </ul></li>
  <li><a href="#class" id="toc-class" class="nav-link" data-scroll-target="#class">6.3 Class</a></li>
  </ul></li>
  <li><a href="#testing" id="toc-testing" class="nav-link" data-scroll-target="#testing">7. Testing</a></li>
  <li><a href="#performance-analysis" id="toc-performance-analysis" class="nav-link" data-scroll-target="#performance-analysis">8. Performance Analysis</a></li>
  <li><a href="#user-guide" id="toc-user-guide" class="nav-link" data-scroll-target="#user-guide">9. User Guide</a></li>
  <li><a href="#travaux-futurs" id="toc-travaux-futurs" class="nav-link" data-scroll-target="#travaux-futurs">10. Travaux futurs</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Documentation</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="introduction" class="level1">
<h1>1. Introduction</h1>
<p>Ce projet, intitulé <strong>CycleVision3</strong>, vise à analyser le trafic cycliste à Montpellier, en se concentrant particulièrement sur l’étude des trajets effectués via le système de vélos en libre-service, ainsi que sur les données de comptage des cyclistes et des piétons. À travers l’exploitation de plusieurs jeux de données, l’objectif est de créer des visualisations interactives permettant de prédire les tendances du trafic cycliste dans la ville, tout en offrant un accès simplifié à ces analyses via un site web interactif.</p>
<p>L’analyse s’appuie sur trois principales sources de données :</p>
<ul>
<li><strong>VéloMagg</strong> : Un jeu de données contenant des informations sur les trajets effectués avec les vélos en libre-service, fournies par Montpellier Méditerranée Métropole.</li>
<li><strong>Comptage des cyclistes et piétons</strong> : Des données issues des compteurs installés pour surveiller le flux de cyclistes et de piétons dans la ville.</li>
<li><strong>Données Open Street Map</strong> : Des données géographiques ouvertes, utilisées pour la visualisation cartographique et pour contextualiser les trajets de manière géospatiale.</li>
</ul>
<p>L’objectif principal de ce projet est de regrouper toutes ces informations et de les rendre accessibles sous forme de visualisations interactives, offrant ainsi un outil puissant pour l’analyse du trafic cycliste et la planification urbaine. L’une des fonctionnalités clés sera la création d’une carte prédictive du trafic cycliste, permettant de prévoir les flux de vélos pour la journée suivante, sur la base des données historiques et des tendances observées.</p>
<p>Ce projet a pour ambition de contribuer à une meilleure compréhension du trafic cycliste dans une grande agglomération et pourrait potentiellement être adapté à d’autres villes, offrant ainsi une solution générique pour l’analyse du trafic cycliste urbain.</p>
<p>Les résultats de ce projet devraient permettre non seulement d’améliorer la gestion du trafic cycliste mais aussi d’offrir aux autorités locales des outils de planification plus précis pour favoriser l’utilisation du vélo comme mode de transport durable.</p>
<section id="contexte-et-objectifs" class="level4">
<h4 class="anchored" data-anchor-id="contexte-et-objectifs">Contexte et objectifs</h4>
<p>Le développement de ce projet s’inscrit dans un contexte où les enjeux de mobilité durable et de gestion intelligente des infrastructures urbaines sont de plus en plus cruciaux. L’augmentation de la fréquentation cycliste dans les grandes villes, associée à une volonté d’encourager les comportements écoresponsables, nécessite des outils adaptés pour analyser et prédire les flux de circulation. Ce projet, à travers son site web interactif, cherche à répondre à ces besoins en fournissant des visualisations précises et en temps réel du trafic cycliste.</p>
</section>
</section>
<section id="project-setup" class="level1">
<h1>2. Project Setup</h1>
<ul>
<li><strong>Traffic Analysis</strong>: Analyze bike traffic data to identify trends, peak times, and popular routes.</li>
<li><strong>Interactive Visualization</strong>: Create dynamic maps that visualize traffic flows across Montpellier.</li>
<li><strong>Web Integration</strong>: Develop a user-friendly website to showcase data insights and traffic maps.</li>
</ul>
<section id="structure-du-projet" class="level2">
<h2 class="anchored" data-anchor-id="structure-du-projet">2.1 Structure du projet</h2>
<p>La structure du projet est organisée de manière à assurer une séparation claire des différentes composantes nécessaires au bon déroulement de l’analyse et à la création des visualisations. Voici un aperçu de l’organisation des fichiers et répertoires :</p>
<details>
<summary>
Voir le structure
</summary>
<pre><code>main/                                           # Répertoire principal du projet
├── .github/workflows/                          # 
├── analyse_donnee/                             # 
├── cache/                                      # Fichiers temporaires
├── data/                                       # Stockage des données des 3 jeux de données
│   ├── extracted/                              # 
│   ├── CoursesVelomagg.csv                     # Données sur les trajets de vélos en libre-service
│   ├── video.csv                               # 
│   └── video_avec_coord.csv                    # 
├── docs/                                       # Répertoire des fichiers du site web
│   ├── .gitignore                              # Liste des fichiers à ignorer par Git
│   ├──                                         # 
│   ├──                                         # 
│   ├──                                         # 
│   └── styles.css                              # Fichier CSS pour la mise en forme du site
├── images/                                     # Images utilisées dans le projet
├── map/                                        # 
├── roadmap/                                    # Fichier README.md avec la description .......
├── slide/                                      # 
├── src/                                        # Répertoire contenant le code source
│   ├── __init__.py                             # Initialisation du package
│   ├── donnée.py                               # Contient les fonctions liées aux données
│   └── fonctions_basedonnees.py                # Fonctions pour les opérations sur la base de données
├── vidéo/                                      # 
├── visualisation/                              # Résultats des visualisations
├──.DS_Store                                    # 
├──
├──
├── .Rhistory                                   # Fichier d'historique R
├── .gitignore                                  # Fichier Git ignore
├── README.md                                   # Documentation principale du projet
└── requirements.txt                            # Dépendances du projet</code></pre>
</details>
</section>
<section id="installation-et-dépendances" class="level2">
<h2 class="anchored" data-anchor-id="installation-et-dépendances">2.2 Installation et dépendances</h2>
<p>Avant de commencer le développement et l’analyse des données, il est nécessaire de configurer l’environnement de travail en installant toutes les dépendances nécessaires. Voici les étapes à suivre pour préparer le projet :</p>
<ol type="1">
<li><p><strong>Cloner le dépôt Git</strong> : La première étape consiste à cloner le dépôt du projet depuis GitHub à l’aide de la commande suivante :</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> clone https://github.com/mscaia/PROJ_HAX712X.git</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><strong>Installer les dépendances</strong> : Le projet repose sur plusieurs bibliothèques Python pour l’analyse des données, la création de visualisations interactives et la génération du site web. Pour installer ces bibliothèques, utilisez la commande suivante :</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> install <span class="at">-r</span> requirements.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><strong>Vérification de l’environnement</strong> : Après l’installation des dépendances, vous pouvez vérifier que tout fonctionne correctement en exécutant un script de test ou en accédant au site web via <code>quarto</code> :</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">quarto</span> preview</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Cela lancera un serveur local où vous pourrez visualiser le site et tester les fonctionnalités interactives.</p></li>
</ol>
</section>
<section id="configuration-des-fichiers" class="level2">
<h2 class="anchored" data-anchor-id="configuration-des-fichiers">2.3 Configuration des fichiers</h2>
<p>Le projet est configuré de manière à utiliser <strong>Quarto</strong> pour la création du site web interactif et <strong>Sphinx</strong> pour la documentation générée automatiquement. Le fichier <code>_quarto.yml</code> contient les paramètres de configuration du projet Quarto, tandis que le fichier <code>index.qmd</code> contient le contenu principal de la page d’accueil du site.</p>
</section>
<section id="base-de-données-et-traitement-des-données" class="level2">
<h2 class="anchored" data-anchor-id="base-de-données-et-traitement-des-données">2.4 Base de données et traitement des données</h2>
<p>Le répertoire <code>data/</code> contient les trois principaux jeux de données utilisés dans ce projet :</p>
<ul>
<li><strong>CoursesVelomagg.csv</strong> : Contient les informations sur les trajets effectués avec les vélos en libre-service.</li>
<li><strong>EcoCompt1.json</strong> : Données de comptage des cyclistes et piétons provenant des capteurs installés dans la ville.</li>
<li><strong>GeolocCompteurs.csv</strong> : Données géospatiales pour localiser les capteurs de comptage des vélos et piétons.</li>
</ul>
<p>Le traitement de ces données est effectué dans le répertoire <code>src/</code>, où les scripts comme <code>donnée.py</code> et <code>fonctions_basedonnees.py</code> contiennent les fonctions nécessaires pour charger, nettoyer et manipuler les données.</p>
</section>
<section id="exécution-du-projet" class="level2">
<h2 class="anchored" data-anchor-id="exécution-du-projet">2.5 Exécution du projet</h2>
<p>Une fois l’environnement configuré et les données traitées, il suffit de lancer le script principal pour générer les visualisations interactives et les cartes prédictives du trafic cycliste. Le projet utilise <strong>Folium</strong> pour la visualisation sur carte et <strong>Matplotlib</strong> pour les graphiques statistiques.</p>
<p>Le répertoire <code>visualisation/</code> contient les scripts et sorties graphiques générées au fur et à mesure du traitement des données, notamment les cartes des trajets cyclistes et les prévisions de trafic.</p>
</section>
<section id="documentation-et-tests" class="level2">
<h2 class="anchored" data-anchor-id="documentation-et-tests">2.6 Documentation et tests</h2>
<p>Pour garantir la qualité du code et la conformité aux exigences du projet, des tests unitaires sont fournis pour vérifier le bon fonctionnement des différentes fonctionnalités. La documentation technique est générée via <strong>Sphinx</strong> et <strong>Quarto</strong>, offrant ainsi une vue d’ensemble sur la structure du code, les API disponibles et la méthodologie utilisée.</p>
</section>
</section>
<section id="data-description" class="level1">
<h1>3. Data Description</h1>
<p>Our analysis relies on three primary datasets:</p>
<ul>
<li><p><strong>VéloMagg Bike-Sharing Data</strong>: Information on bike-sharing usage within the Montpellier Méditerranée Métropole area.</p></li>
<li><p><strong>Traffic Counts Data</strong>: Sensor data recording bike and pedestrian counts at various locations throughout the city.</p></li>
<li><p><strong>OpenStreetMap (OSM) Data</strong>: Geographic data used to accurately map streets, bike lanes, and important locations.</p></li>
<li><p><a href="https://data.montpellier3m.fr/dataset/courses-des-velos-velomagg-de-montpellier-mediterranee-metropole">Trajets à vélos en libre-service</a></p></li>
<li><p><a href="https://data.montpellier3m.fr/dataset/comptages-velo-et-pieton-issus-des-compteurs-de-velo">Comptages vélo et piéton issus des compteurs de vélo</a></p></li>
<li><p><a href="https://www.openstreetmap.org/#map=6/46.45/2.21">OpenStreetMap</a></p></li>
</ul>
</section>
<section id="project-workflow" class="level1">
<h1>4. Project Workflow</h1>
<section id="data-cleaning-and-preprocessing" class="level2">
<h2 class="anchored" data-anchor-id="data-cleaning-and-preprocessing">4.1 Data Cleaning and Preprocessing</h2>
<section id="tasks" class="level3">
<h3 class="anchored" data-anchor-id="tasks">Tasks:</h3>
<ul>
<li><strong>Data Integrity</strong>: Clean the data by removing anomalies, handling missing values, and ensuring consistent formatting.</li>
<li><strong>Date and Address Formatting</strong>: Convert date fields for temporal analysis and standardize address formatting to enable efficient location-based processing.</li>
</ul>
</section>
</section>
<section id="traffic-visualization-and-mapping" class="level2">
<h2 class="anchored" data-anchor-id="traffic-visualization-and-mapping">4.2 Traffic Visualization and Mapping</h2>
<section id="tasks-1" class="level3">
<h3 class="anchored" data-anchor-id="tasks-1">Tasks:</h3>
<ul>
<li><strong>Map Generation</strong>: Use the Folium library to generate an interactive map of Montpellier, displaying bike stations, routes, and traffic density.</li>
<li><strong>Route Calculation</strong>: Utilize OSMnx to calculate the routes between bike stations, highlighting the most popular paths and enabling traffic analysis over time.</li>
</ul>
</section>
</section>
<section id="website-development" class="level2">
<h2 class="anchored" data-anchor-id="website-development">4.3 Website Development</h2>
<p>The final deliverable will be an interactive website, presenting all the data visualizations and analytical insights. The website will be developed using Quarto for easy integration of analysis and visualizations into an accessible, interactive interface.</p>
</section>
</section>
<section id="data-processing-pipeline" class="level1">
<h1>5. Data Processing Pipeline</h1>
</section>
<section id="technical-documentation" class="level1">
<h1>6. Technical Documentation</h1>
<section id="bibliothèques-utilisées" class="level2">
<h2 class="anchored" data-anchor-id="bibliothèques-utilisées">6.1 Bibliothèques utilisées</h2>
<p>Dans le cadre de ce projet, plusieurs bibliothèques ont été utilisées pour répondre aux différents besoins techniques et analytiques. Voici une présentation des bibliothèques principales et leur rôle.</p>
<details>
<summary>
<code>csv</code>
</summary>
La bibliothèque <code>csv</code> permet de lire et d’écrire des fichiers CSV, un format commun pour manipuler des données tabulaires. Nous avons utilisé <code>csv</code> pour extraire et traiter les données brutes contenues dans des fichiers au format CSV. Cela est particulièrement utile pour manipuler des ensembles de données simples où une lecture ligne par ligne est nécessaire.
</details>
<details>
<summary>
<code>matplotlib.pyplot</code>
</summary>
<code>matplotlib.pyplot</code> est utilisée pour produire des graphiques statiques et analyser visuellement les données. Cette bibliothèque nous permet de visualiser les tendances, les répartitions et les relations dans les données à l’aide de graphiques tels que les histogrammes, les courbes ou les nuages de points.
</details>
<details>
<summary>
<code>numpy</code>
</summary>
<code>numpy</code> est une bibliothèque puissante pour effectuer des calculs numériques avancés, notamment des opérations matricielles. Les opérations matricielles et les calculs numériques complexes nécessaires à l’analyse des données sont simplifiés grâce à <code>numpy</code>, qui garantit également des performances élevées.
</details>
<details>
<summary>
<code>os</code>
</summary>
<code>os</code> fournit des fonctions pour interagir avec le système d’exploitation, notamment pour gérer les fichiers et les répertoires. Nous avons utilisé <code>os</code> pour gérer les chemins des fichiers, vérifier l’existence des répertoires, et manipuler les ressources locales du système.
</details>
<details>
<summary>
<code>pooch</code>
</summary>
<code>pooch</code> facilite le téléchargement et la mise en cache des fichiers nécessaires à l’exécution du projet. Cette bibliothèque permet de garantir un accès fiable aux données externes en les téléchargeant automatiquement et en les stockant localement pour une réutilisation future.
</details>
<details>
<summary>
<code>pandas</code>
</summary>
<code>pandas</code> est essentielle pour manipuler et analyser des données tabulaires de manière efficace. <code>pandas</code> est utilisée pour nettoyer, transformer et analyser des ensembles de données complexes, offrant des fonctionnalités avancées comme le traitement des séries temporelles et des jointures de tables.
</details>
<details>
<summary>
<code>json</code>
</summary>
<code>json</code> est utilisée pour manipuler des données au format JSON, un standard de stockage et d’échange d’informations structurées. Nous utilisons <code>json</code> pour lire et écrire des données structurées, notamment pour gérer les configurations et les résultats intermédiaires dans des fichiers légers.
</details>
<details>
<summary>
<code>re</code>
</summary>
La bibliothèque <code>re</code> permet de travailler avec des expressions régulières pour manipuler des chaînes de caractères. Grâce à <code>re</code>, nous avons pu extraire des informations spécifiques des chaînes de caractères et nettoyer les données textuelles de manière efficace.
</details>
<details>
<summary>
<code>unicodedata</code>
</summary>
<code>unicodedata</code> est utilisée pour normaliser les chaînes de caractères Unicode. Cette bibliothèque est essentielle pour traiter les caractères spéciaux et garantir la cohérence des chaînes de caractères provenant de différentes sources.
</details>
<details>
<summary>
<code>folium</code>
</summary>
<code>folium</code> est une bibliothèque dédiée à la création de cartes interactives. Nous avons utilisé <code>folium</code> pour visualiser les trajets et itinéraires des vélos sur des cartes interactives, permettant une meilleure compréhension géographique des données.
</details>
<details>
<summary>
<code>osmnx</code>
</summary>
<code>osmnx</code> est utilisée pour le géocodage et l’analyse des réseaux géographiques. Cette bibliothèque permet de calculer des itinéraires, de géocoder les points d’intérêt et d’extraire des données à partir d’OpenStreetMap pour analyser les réseaux routiers.
</details>
<details>
<summary>
<code>functools.lru_cache</code>
</summary>
<code>functools.lru_cache</code> est une fonctionnalité de Python pour optimiser les performances. En mettant en cache les résultats des fonctions fréquemment appelées, <code>functools.lru_cache</code> améliore les performances et réduit le temps de calcul pour des opérations répétées.
</details>
</section>
<section id="functions" class="level2">
<h2 class="anchored" data-anchor-id="functions">6.2 Functions</h2>
<section id="map" class="level3">
<h3 class="anchored" data-anchor-id="map">6.2.1 Map</h3>
<details>
<summary>
<code>colonne(i, w_file)</code>
</summary>
<p><strong>Description :</strong><br>
Cette fonction permet d’extraire une colonne spécifique d’un fichier CSV. Elle prend en entrée un indice <code>i</code>, représentant la colonne à extraire, ainsi que le chemin du fichier <code>w_file</code>. La fonction ouvre le fichier, parcourt chaque ligne et récupère l’élément situé à la position <code>i</code> dans chaque ligne. Le résultat est une liste contenant toutes les valeurs de la colonne souhaitée.</p>
<strong>Paramètres :</strong>
<ul>
<li>
<code>i</code> (int) : L’indice de la colonne à extraire.
</li>
<li>
<code>w_file</code> (str) : Le chemin d’accès au fichier CSV.
</li>
</ul>
<strong>Retourne :</strong>
<ul>
<li>
<code>L</code> (list) : Une liste contenant les valeurs de la colonne spécifiée.
</li>
</ul>
<p><strong>Code de la fonction :</strong></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> colonne(i, w_file):</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    L<span class="op">=</span>[]</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> <span class="bu">open</span>(w_file) <span class="im">as</span> f:</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> line <span class="kw">in</span> f:</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>            x<span class="op">=</span>line.split(<span class="st">","</span>)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>            L.append(x[i])</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> L </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<details>
<summary>
<code>arg(k, i, j, w_file)</code>
</summary>
<p><strong>Description :</strong><br>
Cette fonction retourne toutes les valeurs dans la colonne <code>j</code> lorsque l’argument dans la colonne <code>i</code> est égal à <code>k</code>. Elle est utile pour filtrer un ensemble de données en fonction d’une condition donnée dans une colonne spécifique, puis extraire les valeurs correspondantes dans une autre colonne.</p>
<strong>Paramètres :</strong>
<ul>
<li>
<code>k</code> (str) : La valeur de la colonne <code>i</code> que l’on souhaite rechercher.
</li>
<li>
<code>i</code> (int) : L’indice de la colonne à vérifier.
</li>
<li>
<code>j</code> (int) : L’indice de la colonne dont les valeurs seront extraites.
</li>
<li>
<code>w_file</code> (str) : Le chemin d’accès au fichier CSV.
</li>
</ul>
<strong>Retourne :</strong>
<ul>
<li>
<code>L</code> (list) : Une liste des valeurs de la colonne <code>j</code> correspondant à la condition <code>x[i] == k</code>.
</li>
</ul>
<p><strong>Code de la fonction :</strong></p>
<div class="sourceCode" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> arg(k,i,j, w_file):</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>    L<span class="op">=</span>[]</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> <span class="bu">open</span>(w_file) <span class="im">as</span> f:</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> line <span class="kw">in</span> f:</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>            x<span class="op">=</span>line.split(<span class="st">","</span>)</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> x[i]<span class="op">==</span>k:</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>                L.append(x[j])</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> L </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<details>
<summary>
<code>pd_to_datetime(df, colonne_date)</code>
</summary>
<p><strong>Description :</strong><br>
Cette fonction transforme une colonne de dates dans un DataFrame en un format exploitable. Elle supprime les valeurs manquantes, convertit la colonne de dates en format <code>datetime</code> et crée une nouvelle colonne <code>Date</code> contenant uniquement la date, en supprimant la colonne initiale des dates.</p>
<strong>Paramètres :</strong>
<ul>
<li>
<code>df</code> (DataFrame) : Le DataFrame contenant la colonne de dates.
</li>
<li>
<code>colonne_date</code> (str) : Le nom de la colonne de dates à convertir.
</li>
</ul>
<strong>Retourne :</strong>
<ul>
<li>
<code>df</code> (DataFrame) : Le DataFrame modifié avec la colonne <code>Date</code> et la colonne initiale supprimée.
</li>
</ul>
<p><strong>Code de la fonction :</strong></p>
<div class="sourceCode" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> pd_to_datetime(df, colonne_date):</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    df <span class="op">=</span> df.dropna()</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    df[colonne_date] <span class="op">=</span> pd.to_datetime(df[colonne_date])</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    df[<span class="st">'Date'</span>] <span class="op">=</span> df[colonne_date].dt.date</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    df <span class="op">=</span> df.drop(columns<span class="op">=</span>[colonne_date])</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<details>
<summary>
<code>nettoyer_adresse_normalise(adresse)</code>
</summary>
<p><strong>Description :</strong><br>
Cette fonction nettoie et normalise une adresse en supprimant les numéros au début et en corrigeant les caractères Unicode. Elle utilise des expressions régulières pour enlever les numéros de début d’adresse et applique une normalisation Unicode pour garantir une uniformité des caractères.</p>
<strong>Paramètres :</strong>
<ul>
<li>
<code>adresse</code> (str) : La chaîne de caractères représentant l’adresse à nettoyer et normaliser.
</li>
</ul>
<strong>Retourne :</strong>
<ul>
<li>
str : L’adresse nettoyée et normalisée.
</li>
</ul>
<p><strong>Code de la fonction :</strong></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> nettoyer_adresse_normalise(adresse):</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="co">    Nettoie et normalise une adresse en supprimant les numéros au début, </span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co">    en normalisant les caractères Unicode.</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="co">    </span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="co">    Paramètre :</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="co">    adresse (str) : La chaîne d'adresse à normaliser.</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="co">    </span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="co">    Retourne :</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="co">    str : L'adresse nettoyée et normalisée.</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Tenter de corriger l'encodage si nécessaire</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Encode la chaîne en latin1 puis décode en utf-8</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>        adresse <span class="op">=</span> adresse.encode(<span class="st">'latin1'</span>).decode(<span class="st">'utf-8'</span>)</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> (<span class="pp">UnicodeEncodeError</span>, <span class="pp">UnicodeDecodeError</span>):</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>        <span class="cf">pass</span>  <span class="co"># Ignore les erreurs d'encodage si elles se produisent</span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Supprimer les numéros ou autres formats non pertinents (ex: 057 au début)</span></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>    adresse <span class="op">=</span> re.sub(<span class="vs">r'^\d+\s*'</span>, <span class="st">''</span>, adresse)  <span class="co"># Enlève les numéros au début</span></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Normalisation des caractères Unicode</span></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>    adresse <span class="op">=</span> unicodedata.normalize(<span class="st">'NFKD'</span>, adresse)</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Retourner l'adresse nettoyée et normalisée</span></span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> adresse  <span class="co"># Enlever les espaces supplémentaires aux extrémités</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<details>
<summary>
<code>gen_carte_trajet(ligne, G, m, index_colonne_départ, index_colonne_arrive, couleur)</code>
</summary>
<p><strong>Description :</strong><br>
Cette fonction génère une carte représentant le trajet entre deux points de départ et d’arrivée. Elle utilise le géocodage pour convertir les noms des stations en coordonnées géographiques, puis calcule l’itinéraire le plus court entre les deux stations sur un graphe de rue. Les itinéraires sont ajoutés à la carte, ainsi que des marqueurs pour les stations de départ et d’arrivée.</p>
<strong>Paramètres :</strong>
<ul>
<li>
<code>ligne</code> (list) : Une ligne contenant les noms des stations de départ et d’arrivée.
</li>
<li>
<code>G</code> (Graph) : Le graphe représentant le réseau de rues de la ville.
</li>
<li>
<code>m</code> (Map) : L’objet de la carte sur lequel le trajet sera tracé.
</li>
<li>
<code>index_colonne_départ</code> (int) : L’indice de la colonne contenant le nom de la station de départ.
</li>
<li>
<code>index_colonne_arrive</code> (int) : L’indice de la colonne contenant le nom de la station d’arrivée.
</li>
<li>
<code>couleur</code> (str) : La couleur de la ligne représentant le trajet.
</li>
</ul>
<strong>Retourne :</strong>
<ul>
<li>
<code>m</code> (Map) : La carte avec l’itinéraire ajouté.
</li>
</ul>
<p><strong>Code de la fonction :</strong></p>
<div class="sourceCode" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> gen_carte_trajet(ligne, G, m, index_colonne_départ, index_colonne_arrive,couleur):</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Essayer de géocoder les stations de départ et d'arrivée</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>        origin <span class="op">=</span> ox.geocode(<span class="ss">f"</span><span class="sc">{</span>ligne[index_colonne_départ]<span class="sc">}</span><span class="ss">, Montpellier, France"</span>)  <span class="co"># Première colonne</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>        destination <span class="op">=</span> ox.geocode(<span class="ss">f"</span><span class="sc">{</span>ligne[index_colonne_arrive]<span class="sc">}</span><span class="ss">, Montpellier, France"</span>)  <span class="co"># Deuxième colonne</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Vérifier si le géocodage a réussi</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> origin <span class="kw">is</span> <span class="va">None</span> <span class="kw">or</span> destination <span class="kw">is</span> <span class="va">None</span>:</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f"Erreur de géocodage pour les stations : </span><span class="sc">{</span>ligne[index_colonne_départ]<span class="sc">}</span><span class="ss"> ou </span><span class="sc">{</span>ligne[index_colonne_arrive]<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> m</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Trouver les nœuds les plus proches de l'origine et de la destination</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>        origin_node <span class="op">=</span> ox.nearest_nodes(G, origin[<span class="dv">1</span>], origin[<span class="dv">0</span>])  <span class="co"># longitude, latitude</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>        destination_node <span class="op">=</span> ox.nearest_nodes(G, destination[<span class="dv">1</span>], destination[<span class="dv">0</span>])  <span class="co"># longitude, latitude</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Calculer l'itinéraire aller et retour</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>        route <span class="op">=</span> ox.shortest_path(G, origin_node, destination_node)</span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Fonction pour convertir un itinéraire (liste de nœuds) en liste de coordonnées géographiques</span></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>        <span class="kw">def</span> route_to_coords(G, route):</span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>            route_coords <span class="op">=</span> []</span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> node <span class="kw">in</span> route:</span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>                point <span class="op">=</span> (G.nodes[node][<span class="st">'y'</span>], G.nodes[node][<span class="st">'x'</span>])  <span class="co"># latitude, longitude</span></span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>                route_coords.append(point)</span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> route_coords</span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Obtenir les coordonnées pour l'itinéraire</span></span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a>        route_coords <span class="op">=</span> route_to_coords(G, route)</span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Ajouter l'itinéraire aller (en rouge) à la carte</span></span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a>        folium.PolyLine(locations<span class="op">=</span>route_coords, color<span class="op">=</span>couleur, weight<span class="op">=</span><span class="dv">5</span>, opacity<span class="op">=</span><span class="fl">0.75</span>).add_to(m)</span>
<span id="cb9-32"><a href="#cb9-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-33"><a href="#cb9-33" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Ajouter des marqueurs pour l'origine et la destination</span></span>
<span id="cb9-34"><a href="#cb9-34" aria-hidden="true" tabindex="-1"></a>        départ_lat, départ_lon <span class="op">=</span> route_coords[<span class="dv">0</span>]</span>
<span id="cb9-35"><a href="#cb9-35" aria-hidden="true" tabindex="-1"></a>        arr_lat, arr_lon <span class="op">=</span> route_coords[<span class="op">-</span><span class="dv">1</span>]  <span class="co"># Utiliser le dernier point pour l'arrivée</span></span>
<span id="cb9-36"><a href="#cb9-36" aria-hidden="true" tabindex="-1"></a>        folium.Marker(location<span class="op">=</span>[départ_lat, départ_lon], popup<span class="op">=</span><span class="ss">f"</span><span class="sc">{</span>ligne[index_colonne_départ]<span class="sc">}</span><span class="ss">,Départ"</span>).add_to(m)</span>
<span id="cb9-37"><a href="#cb9-37" aria-hidden="true" tabindex="-1"></a>        folium.Marker(location<span class="op">=</span>[arr_lat, arr_lon], popup<span class="op">=</span><span class="ss">f"</span><span class="sc">{</span>ligne[index_colonne_arrive]<span class="sc">}</span><span class="ss">,arrivé"</span>).add_to(m)</span>
<span id="cb9-38"><a href="#cb9-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-39"><a href="#cb9-39" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">Exception</span> <span class="im">as</span> e:</span>
<span id="cb9-40"><a href="#cb9-40" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"Une erreur est survenue : </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb9-41"><a href="#cb9-41" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb9-42"><a href="#cb9-42" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> m</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<details>
<summary>
<code>coordonne(station)</code>
</summary>
<p><strong>Description :</strong><br>
Cette fonction permet de géocoder le nom d’une station pour obtenir ses coordonnées géographiques (latitude et longitude). Elle utilise la bibliothèque <code>osmnx</code> pour rechercher l’emplacement correspondant à la station spécifiée dans la ville de Montpellier, France.</p>
<strong>Paramètres :</strong>
<ul>
<li>
<code>station</code> (str) : Le nom de la station à géocoder.
</li>
</ul>
<strong>Retourne :</strong>
<ul>
<li>
<code>latitude</code> (float) : La latitude de la station.
</li>
<li>
<code>longitude</code> (float) : La longitude de la station.
</li>
</ul>
<p><strong>Code de la fonction :</strong></p>
<div class="sourceCode" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> coordonne(station):</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Recherche de l'emplacement en utilisant osmnx</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>        location <span class="op">=</span> ox.geocode(<span class="ss">f"</span><span class="sc">{</span>station<span class="sc">}</span><span class="ss">, Montpellier, France"</span>)</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> location[<span class="dv">0</span>], location[<span class="dv">1</span>]</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">Exception</span> <span class="im">as</span> e:</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"Erreur pour la station </span><span class="sc">{</span>station<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">None</span>, <span class="va">None</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</section>
<section id="préduction" class="level3">
<h3 class="anchored" data-anchor-id="préduction">6.2.2 Préduction</h3>
</section>
<section id="video" class="level3">
<h3 class="anchored" data-anchor-id="video">6.2.3 Video</h3>
</section>
</section>
<section id="class" class="level2">
<h2 class="anchored" data-anchor-id="class">6.3 Class</h2>
<p>[HERE IS A TEXT ABOUT CLASS]</p>
</section>
</section>
<section id="testing" class="level1">
<h1>7. Testing</h1>
</section>
<section id="performance-analysis" class="level1">
<h1>8. Performance Analysis</h1>
</section>
<section id="user-guide" class="level1">
<h1>9. User Guide</h1>
</section>
<section id="travaux-futurs" class="level1">
<h1>10. Travaux futurs</h1>
<p>Bien que ce projet ait permis de poser les bases d’une analyse approfondie du trafic cycliste à Montpellier, plusieurs pistes de développement restent ouvertes pour enrichir et étendre cette étude. Voici quelques axes possibles pour les travaux futurs :</p>
<ul>
<li><p><strong>Amélioration de la précision des prédictions</strong> : Une direction importante consiste à améliorer les modèles de prédiction du trafic en utilisant des techniques d’apprentissage automatique avancées, telles que les réseaux de neurones ou l’apprentissage par renforcement. Cela pourrait permettre de mieux anticiper les variations du trafic en fonction de facteurs contextuels tels que la météo ou les événements locaux.</p></li>
<li><p><strong>Intégration de données en temps réel</strong> : L’ajout de données en temps réel, comme les informations sur la circulation, les conditions météorologiques ou même les perturbations du réseau de transport (par exemple, les travaux de construction), pourrait rendre les prévisions plus dynamiques et réactives aux conditions changeantes.</p></li>
<li><p><strong>Analyse comparative entre différentes villes</strong> : Une extension naturelle de ce projet serait d’appliquer la même méthodologie à d’autres villes. Cela permettrait de comparer les tendances du trafic cycliste entre différentes régions et d’identifier des modèles communs ou des différences spécifiques aux contextes locaux.</p></li>
<li><p><strong>Développement d’une carte de trafic basée sur les événements</strong> : Un projet complémentaire consisterait à intégrer des informations sur les événements urbains (concerts, manifestations, événements sportifs, etc.) dans le système de prédiction du trafic. Cela permettrait de prédire des hausses de trafic liées à ces événements, offrant ainsi des informations précieuses aux utilisateurs.</p></li>
<li><p><strong>Optimisation de l’interface utilisateur</strong> : L’interface du site Web pourrait être améliorée en offrant davantage de fonctionnalités interactives, telles que la planification d’itinéraires en fonction des prévisions de trafic ou des suggestions d’itinéraires alternatifs pour éviter les zones congestionnées.</p></li>
<li><p><strong>Étude de l’impact environnemental</strong> : Une analyse plus poussée pourrait être menée sur l’impact du trafic cycliste sur la qualité de l’air et la pollution. Cette étude pourrait inclure la corrélation entre le trafic vélo et les niveaux de pollution pour proposer des solutions visant à réduire les émissions dans les zones les plus fréquentées.</p></li>
</ul>
<p>Ces directions futures ne sont pas exhaustives et peuvent évoluer en fonction des avancées technologiques et des retours d’expérience des utilisateurs. Elles témoignent de l’ambition du projet d’offrir des solutions durables et efficaces pour la gestion du trafic cycliste en milieu urbain.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>